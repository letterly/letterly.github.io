<html>
    <head>
        <title>Osage Keyboard</title>
        <style>
            *{
                font-family: 'Noto Sans';
            }
            DOM, body{
                background-color: #002b36;
            }
            h1{
                text-align: center;
                font-size: 48px;
                color: #fdf6e3;
            }
            textarea{
                background-color: #fdf6e3;
                color: #002b36;
                width: 96%;
                font-size: 36px;
                height: 250px;
                resize: none;
                margin: 1%;
                border: none;
                outline: none;
            }
            textarea::placeholder{
                color: #657b83;
            }
            .key{
                background-color: #fdf6e3;
                height: 66px;
                width: 50px;
                float: left;
                margin: 1%;
                border: none;
            }
            #capskey{
                height: 66px;
                float: left;
                margin: 1%;
                border: none;
                background-color: #eee8d5;
                width: 150px;
            }
            .key:hover, #capskey:hover{
                background-color: #2aa198;
            }
            .main, .latin{
                line-height: 0%;
                text-align: center;
                text-transform: capitalize;
                font-weight: 900;
            }
            .main{
                color: #dc322f;
                font-size: 28px;
            }
            .latin{
                font-size: 14px;
                color: #cb4b16;
            }
            .row{
                width: 80%;
                float: left;
            }
            #row2{
                margin-left: 15px;
            }
            #row3{
                margin-left: 30px;
            }
        </style>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet">
        <script>
            document.addEventListener("DOMContentLoaded", function(){
                var caps = false
                var textarea = [].slice.call(document.getElementsByTagName("textarea"))[0]
                var key = [].slice.call(document.getElementsByClassName('key'))
                console.log(key)
                key.forEach((element, index) => {
                    element.addEventListener('click', (event) => {
                        if(element.textContent.trim().slice(0,1).charCodeAt() > 50000) x = element.textContent.trim().slice(0,2)
                        else x = element.textContent.trim().slice(0,1)
                        type(x)
                    })
                })
                capslock = document.getElementById("capskey")
                capslock.addEventListener('click', (event) => {
                    if(!caps){
                        caps = true;
                        capslock.style.backgroundColor = "#dc322f";
                        document.getElementById("capskeytext").style.color = "#fdf6e3";
                    }
                    else{
                        caps = false;
                        capslock.style.backgroundColor = "#fdf6e3";
                        document.getElementById("capskeytext").style.color = "#dc322f";
                    }
                })
                this.addEventListener('keypress', event => {
                    eventCode = {
                        "KeyQ": "ğ“",
                        "KeyW": "ğ“·",
                        "KeyE": "ğ“Ÿ",
                        "KeyR": "ğ“œ",
                        "KeyT": "ğ“°",
                        "KeyY": "ğ“¯",
                        "KeyU": "ğ“¶",
                        "KeyI": "ğ“£",
                        "KeyO": "ğ“ª",
                        "KeyP": "ğ“¬",
                        "KeyA": "ğ“˜",
                        "KeyS": "ğ“®",
                        "KeyD": "ğ“µ",
                        "KeyF": "ğ“š",
                        "KeyG": "ğ“¹",
                        "KeyH": "ğ“¡",
                        "KeyJ": "ğ“»",
                        "KeyK": "ğ“¤",
                        "KeyL": "ğ“§",
                        "Semicolon": "Í˜",
                        "KeyZ": "ğ“º",
                        "KeyX": "ğ“¸",
                        "KeyC": "ğ“²",
                        "KeyV": "ğ“™",
                        "KeyB": "ğ“«",
                        "KeyN": "ğ“©",
                        "KeyM": "ğ“¨",
                        "Space": " ",
                    }
                    if(Object.keys(eventCode).includes(event.code)) event.preventDefault();
                    if(eventCode[event.code] !== undefined) type(eventCode[event.code])
                })
                function type(letter){
                    if(caps) letter = letter.toUpperCase()
                    caps = false
                    capslock.style.backgroundColor = "#fdf6e3";
                    document.getElementById("capskeytext").style.color = "#dc322f";
                    n = textarea.selectionStart
                    textarea.value = textarea.value.slice(0, textarea.selectionStart) + letter + textarea.value.slice(textarea.selectionStart)
                    if(textarea.value.includes("ğ“˜Í˜ğ“£Í˜")){
                        textarea.value = textarea.value.replace("ğ“˜Í˜ğ“£Í˜", "ğ“š")
                        n-=4
                    }
                    if(textarea.value.includes("ğ“ªÍ˜ğ“£Í˜")){
                        textarea.value = textarea.value.replace("ğ“ªÍ˜ğ“£Í˜", "ğ“«")
                        n-=4
                    }
                    if(textarea.value.includes("ğ“˜ğ“Ÿ")){
                        textarea.value = textarea.value.replace("ğ“˜ğ“Ÿ", "ğ“™")
                        n-=2
                    }
                    if(textarea.value.includes("ğ“™Í˜")){
                        textarea.value = textarea.value.replace("ğ“™Í˜", "ğ“š")
                        n-=2
                    }
                    if(textarea.value.includes("ğ“˜ğ“£")){
                        textarea.value = textarea.value.replace("ğ“˜ğ“£", "ğ“™")
                        n-=2
                    }
                    if(textarea.value.includes("ğ“˜ğ“£Í˜")){
                        textarea.value = textarea.value.replace("ğ“˜ğ“£Í˜", "ğ“š")
                        n-=3
                    }
                    if(textarea.value.includes("ğ“˜Í˜ğ“£")){
                        textarea.value = textarea.value.replace("ğ“˜Í˜ğ“£", "ğ“š")
                        n-=3
                    }
                    if(textarea.value.includes("ğ“Ÿğ“£Í˜")){
                        textarea.value = textarea.value.replace("ğ“Ÿğ“£Í˜", "ğ“š")
                        n-=3
                    }
                    if(textarea.value.includes("ğ“ªğ“£Í˜")){
                        textarea.value = textarea.value.replace("ğ“ªğ“£Í˜", "ğ“«")
                        n-=3
                    }
                    if(textarea.value.includes("ğ“¶ğ“£Í˜")){
                        textarea.value = textarea.value.replace("ğ“¶ğ“£Í˜", "ğ“«")
                        n-=3
                    }
                    if(letter.charCodeAt() > 10000) textarea.selectionStart = n + 2
                    else textarea.selectionStart = n + 2
                }
            })
        </script>
    </head>
    <body>
        <h1>Osage Keyboard</h1>
        <textarea placeholder="Write here"></textarea>
        <div id="keyboard">
            <div id="row1" class="row">
                <div class="key">
                    <p class="main">ğ“</p>
                    <p class="latin">q</p>
                </div>
                <div class="key">
                    <p class="main">ğ“·</p>
                    <p class="latin">w</p>
                </div>
                <div class="key">
                    <p class="main">ğ“Ÿ</p>
                    <p class="latin">e</p>
                </div>
                <div class="key">
                    <p class="main">ğ“œ</p>
                    <p class="latin">r</p>
                </div>
                <div class="key">
                    <p class="main">ğ“°</p>
                    <p class="latin">t</p>
                </div>
                <div class="key">
                    <p class="main">ğ“¯</p>
                    <p class="latin">y</p>
                </div>
                <div class="key">
                    <p class="main">ğ“¶</p>
                    <p class="latin">u</p>
                </div>
                <div class="key">
                    <p class="main">ğ“£</p>
                    <p class="latin">i</p>
                </div>
                <div class="key">
                    <p class="main">ğ“ª</p>
                    <p class="latin">o</p>
                </div>
                <div class="key">
                    <p class="main">ğ“¬</p>
                    <p class="latin">p</p>
                </div>
            </div>
            <div id="row2" class="row">
                <div class="key">
                    <p class="main">ğ“˜</p>
                    <p class="latin">a</p>
                </div>
                <div class="key">
                    <p class="main">ğ“®</p>
                    <p class="latin">s</p>
                </div>
                <div class="key">
                    <p class="main">ğ“µ</p>
                    <p class="latin">d</p>
                </div>
                <div class="key">
                    <p class="main">ğ“š</p>
                    <p class="latin">f</p>
                </div>
                <div class="key">
                    <p class="main">ğ“¹</p>
                    <p class="latin">g</p>
                </div>
                <div class="key">
                    <p class="main">ğ“¡</p>
                    <p class="latin">h</p>
                </div>
                <div class="key">
                    <p class="main">ğ“»</p>
                    <p class="latin">j</p>
                </div>
                <div class="key">
                    <p class="main">ğ“¤</p>
                    <p class="latin">k</p>
                </div>
                <div class="key">
                    <p class="main">ğ“§</p>
                    <p class="latin">l</p>
                </div>
                <div class="key">
                    <p class="main">Í˜</p>
                    <p class="latin">;</p>
                </div>
            </div>
            <div id="row3" class="row">
                <div class="key">
                    <p class="main">ğ“º</p>
                    <p class="latin">z</p>
                </div>
                <div class="key">
                    <p class="main">ğ“¸</p>
                    <p class="latin">x</p>
                </div>
                <div class="key">
                    <p class="main">ğ“²</p>
                    <p class="latin">c</p>
                </div>
                <div class="key">
                    <p class="main">ğ“™</p>
                    <p class="latin">v</p>
                </div>
                <div class="key">
                    <p class="main">ğ“«</p>
                    <p class="latin">b</p>
                </div>
                <div class="key">
                    <p class="main">ğ“©</p>
                    <p class="latin">n</p>
                </div>
                <div class="key">
                    <p class="main">ğ“¨</p>
                    <p class="latin">m</p>
                </div>
                <div id="capskey">
                    <p class="main" id="capskeytext">shift</p>
                </div>
            </div>
        </div>
    </body>
</html>